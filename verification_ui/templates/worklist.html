{% extends "app/layout.html" %}

{% from 'app/vendor/.govuk-frontend/components/table/macro.html' import govukTable %}

{% from 'app/vendor/.govuk-frontend/components/tabs/macro.html' import govukTabs %}

{% block title %}Worklist{% endblock %}

{% block inner_content %}
<div class="govuk-width-container">
    <div class="govuk-grid-row">
        <div class="govuk-grid-column-full">
            <h1 class="govuk-heading-xl">Worklist</h1>
            <div class="govuk-tabs" data-module="">
                <ul class="govuk-tabs__list">
                    <li class="govuk-tabs__list-item">
                        <a class="govuk-tabs__tab govuk-tabs__tab--selected" href="#worklist">
                            Applications
                        </a>
                    </li>
                    <li class="govuk-tabs__list-item">
                        <a class="govuk-tabs__tab" href="{{ url_for('.get_search') }}">
                            Search
                        </a>
                    </li>
                </ul>
                <section class="govuk-tabs__panel lr-tabs__panel--no-border" id="worklist">
                    {% if worklist_items %}
                        {{ govukTable({
                            'caption': 'Applications',
                            'captionClasses': 'govuk-heading-m',
                            'firstCellIsHeader': false,
                            'head': [
                                { 'text': 'Date' },
                                { 'text': 'Name' },
                                { 'text': 'Status' },
                                { 'text': 'Details' },
                                { 'text': '' }
                            ],
                            'rows': worklist_items
                        }) }}
                    {% else %}
                        <h2 class="govuk-heading-s">No outstanding applications</h2>
                    {% endif %}
                </section>
            </div>
        </div>
    </div>
</div>
{% endblock %}
